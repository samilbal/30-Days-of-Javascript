<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Day 9</title>
  </head>
  <body>
    <script src="countries.js"></script>
    <script>
      const countries = ["Finland", "Sweden", "Denmark", "Norway", "IceLand"];
      const names = ["Asabeneh", "Mathias", "Elias", "Brook"];
      const numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
      const products = [
        { product: "banana", price: 3 },
        { product: "mango", price: 6 },
        { product: "potato", price: " " },
        { product: "avocado", price: 8 },
        { product: "coffee", price: 10 },
        { product: "tea", price: "" },
      ];

      countries.forEach((country) => {
        console.log(country);
      });

      names.forEach((name) => {
        console.log(name);
      });

      numbers.forEach((number) => {
        console.log(number);
      });

      upCaseCountries = countries.map((country) => country.toUpperCase());
      console.log(upCaseCountries);

      countriesLengths = countries.map((country) => country.length);
      console.log(countriesLengths);

      sqrNumbers = numbers.map((number) => number * number);
      console.log(sqrNumbers);

      priceProducts = products.map((product) => {
        return {
          key: product.price,
          item: product.product,
        };
      });
      console.log(priceProducts);

      countriesLand = countries.filter((country) =>
        country.toLowerCase().includes("land")
      );
      console.log(countriesLand);

      sixCharCountries = countries.filter((country) => country.length === 6);
      console.log(sixCharCountries);

      valuedProducts = products.filter((product) =>
        product.price > 0 ? product : console.log("product dont have price")
      );
      console.log(valuedProducts);

      let sum = numbers.reduce((acc, curr) => acc + curr, 0);
      console.log(sum);

      let sentence = countries.reduce((acc, curr) => acc + ", " + curr);
      console.log(sentence);

      let sevenCountries = countries.some((country) => country.length > 7);
      console.log(sevenCountries);

      let landCountries = countries.every((country) =>
        country.includes("land")
      );
      console.log(landCountries);

      let sixLetterCountry = countries.find((country) => country.length == 6);
      console.log(sixLetterCountry);

      console.log(countries.findIndex((country) => country.length == 6));
      console.log(countries.findIndex((country) => country == "russia"));

      let total = 0;
      products
        .filter((product) => product.price > 0)
        .map((product) => (total += product.price));
      console.log(
        "total cost of all products which have a price set is",
        total
      );

      console.log(
        products.reduce(
          (acc, curr) => (curr.price > 0 ? acc + curr.price : acc),
          0
        )
      );

      countries2.sort((a, b) => {
        if (a.name > b.name) return 1;
        if (a.name < b.name) return -1;
        return 0;
      });

      let languagesArray = [];

      countries2.map((x) => {
        let chk = x.languages;
        chk.forEach((element) => {
          if (languagesArray[element]) {
            console.log("language exists in the array");
          } else {
            languagesArray.push(element);
          }
        });
      });

      let languageCount = {};

      languagesArray.map((language) => {
        let key = language;
        languageCount[language]
          ? (languageCount[key] = languageCount[key] + 1)
          : (languageCount[key] = 1);
      });

      function getKeysWithHighestValue(o, n) {
        var keys = Object.keys(o);
        keys.sort(function (a, b) {
          return o[b] - o[a];
        });
        return keys.slice(0, n);
      }

      console.log(
        "most spoken 10 languages",
        getKeysWithHighestValue(languageCount, 10)
      );

      function mostPopulatedCountries(object, n) {
        let tenCountries = countries2.sort(function (a, b) {
          if (a.population > b.population) return -1;
          if (a.population < b.population) return +1;
          return 0;
        });

        console.log("top ten populated countries", tenCountries.splice(0, n));
      }
      mostPopulatedCountries(countries2, 10);
    </script>
  </body>
</html>
